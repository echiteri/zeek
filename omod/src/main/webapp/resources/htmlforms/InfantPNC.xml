<htmlform formName="Infant - Postnatal Form"
		  formDescription="A visit for an infant for Postnatal Care"
		  formEncounterType="af1f1b24-d2e8-4282-b308-0bf79b365584"
		  formUuid="5022c5d7-ea45-47ce-bd65-1ba1d8ad2467"
		  formVersion="0.9"
		  formAddMetadata="yes"
		  formUILocation="patientDashboard.overallActions"
		  formOrder="15"
		  formIcon="icon-medkit"
		  formShowIf="patient.person.dead==false &amp;&amp; patient.person.age &lt; 2"
		  formDisplayStyle="Standard">

    <script type="text/javascript">
        jq(function() {
        <!--/* Show the current location and visit date while hiding the encounter location drop down and date picker for
        encounter date */-->
        jq('#encounterLocation').hide();
        jq('#currentLocation').text(jq('#encounterLocation select option:selected').text());
        <ifMode mode="ENTER">
            <!-- the encounter date should be empty on a new form -->
            setValue('encounterDate.value', '');
        </ifMode>

            beforeSubmit.push(function() {
                <!-- Validate Infant HIV exposure status -->
                if (jq('#infant-hiv-exposure-status').length > 0) { <!-- check the existence of the element, in case it is excluded from the form based on previous known state -->
                    setValue('infant-hiv-exposure-status.error', '');
                    if (!getValue('infant-hiv-exposure-status.value')) {
                        getField('infant-hiv-exposure-status.error').html('Infant HIV exposure must be provided').show();
                        return false;
                    }
                }
                <!-- Validate ARV Prophylaxis status -->
                if (jq('#infant-prophylaxis-status').length > 0) { <!-- check the existence of the element, in case it is excluded from the form based on previous known state -->
                    setValue('infant-prophylaxis-status.error', '');
                    if (jq('#infant-hiv-exposure-status').length > 0) { <!-- exposure status is not excluded -->
                        if (getValue('infant-hiv-exposure-status.value') == 164920) {
                            if (!getValue('infant-prophylaxis-status.value')) {
                                getField('infant-prophylaxis-status.error').html('Infant ARV Prophylaxis status must be provided').show();
                                return false;
                            }
                        }
                    }else{ <!-- exposure status is excluded -->
                        if (!getValue('infant-prophylaxis-status.value')) {
                            getField('infant-prophylaxis-status.error').html('Infant ARV Prophylaxis status must be provided').show();
                            return false;
                        }
                    }
                }
                <!-- Validate ARV Adherence -->
                if (jq('#infant-prophylaxis-adherence').length > 0) { <!-- check the existence of the element, in case it is excluded from the form based on previous known state -->
                    setValue('infant-prophylaxis-adherence.error', '');
                    if (getValue('infant-prophylaxis-status.value') == 164922) {
                        if (!getValue('infant-prophylaxis-adherence.value')) {
                            getField('infant-prophylaxis-adherence.error').html('Infant ARV adherence status must be provided').show();
                            return false;
                        }
                    }
                }
                <!-- Validate CTX Prophylaxis status -->
                if (jq('#infant-ctx-status').length > 0) { <!-- check the existence of the element, in case it is excluded from the form based on previous known state -->
                    setValue('infant-ctx-status.error', '');
                    if (jq('#infant-hiv-exposure-status').length > 0) { <!-- exposure status is not excluded -->
                        if (getValue('infant-hiv-exposure-status.value') == 164920) {
                            if (!getValue('infant-ctx-status.value')) {
                                getField('infant-ctx-status.error').html('Infant CTX Prophylaxis status must be provided').show();
                                return false;
                            }
                        }
                    }else{ <!-- exposure status is excluded -->
                        if (!getValue('infant-prophylaxis-status.value')) {
                            getField('infant-prophylaxis-status.error').html('Infant ARV Prophylaxis status must be provided').show();
                            return false;
                        }
                    }
                }
                <!-- Validate CTX Adherence status -->
                if (jq('#infant-ctx-adherence').length > 0) { <!-- check the existence of the element, in case it is excluded from the form based on previous known state -->
                    setValue('infant-ctx-adherence.error', '');
                    if (getValue('infant-ctx-status.value') == 164927) {
                        if (!getValue('infant-ctx-adherence.value')) {
                            getField('infant-ctx-adherence.error').html('Infant CTX adherence status must be provided').show();
                            return false;
                        }
                    }
                }
                <!-- Validate infant HIV test status? -->
                if (jq('#infant-hiv-test').length > 0) { <!-- check the existence of the element, in case it is excluded from the form based on previous known state -->
                    setValue('infant-hiv-test.error', '');
                    if (!getValue('infant-hiv-test.value')) {
                        getField('infant-hiv-test.error').html('Infant HIV test status must be provided').show();
                        return false;
                    }
                }
                <!-- Validate infant HIV test type? -->
                if (jq('#infant-test-type').length > 0) { <!-- check the existence of the element, in case it is excluded from the form based on previous known state -->
                    setValue('infant-test-type.error', '');
                    if (getValue('infant-hiv-test.value') == 164912) {
                        if (!getValue('infant-test-type.value')) {
                            getField('infant-test-type.error').html('Infant HIV test type must be provided').show();
                            return false;
                        }
                    }
                }
                <!-- Validate infant DNA PCR test result? -->
                if (jq('#dnapcr-test-result').length > 0) { <!-- check the existence of the element, in case it is excluded from the form based on previous known state -->
                    setValue('dnapcr-test-result.error', '');
                    if (getValue('infant-test-type.value') == 844) {
                        if (!getValue('dnapcr-test-result.value')) {
                            getField('dnapcr-test-result.error').html('Infant DNA PCR test result must be provided').show();
                            return false;
                        }
                    }
                }
                <!-- Validate infant Rapid test result? -->
                if (jq('#rapid-test-result').length > 0) { <!-- check the existence of the element, in case it is excluded from the form based on previous known state -->
                    setValue('rapid-test-result.error', '');
                    if (getValue('infant-test-type.value') == 1042) {
                        if (!getValue('rapid-test-result.value')) {
                            getField('rapid-test-result.error').html('Infant Rapid test result must be provided').show();
                            return false;
                        }
                    }
                }
                <!-- Validate infant Confirmatory test done? -->
                if (jq('#confirmatory-test-done').length > 0) { <!-- check the existence of the element, in case it is excluded from the form based on previous known state -->
                    setValue('confirmatory-test-done.error', '');
                    if ((getValue('dnapcr-test-result.value') || getValue('rapid-test-result.value')) == 703) {
                        if (!getValue('confirmatory-test-done.value')) {
                            getField('confirmatory-test-done.error').html('Infant Confirmatory test status must be provided').show();
                            return false;
                        }
                    }
                }
                <!-- Validate infant Confirmatory test result? -->
                if (jq('#final-test-result').length > 0) { <!-- check the existence of the element, in case it is excluded from the form based on previous known state -->
                    setValue('final-test-result.error', '');
                    if (getValue('confirmatory-test-done.value') == 1065) {
                        if (!getValue('final-test-result.value')) {
                            getField('final-test-result.error').html('Infant Confirmatory test result must be provided').show();
                            return false;
                        }
                    }
                }
                <!-- Validate infant Confirmatory test result? -->
                if (jq('#infant-art-link').length > 0) { <!-- check the existence of the element, in case it is excluded from the form based on previous known state -->
                    setValue('infant-art-link.error', '');
                    if (getValue('final-test-result.value') == 703) {
                        if (!getValue('infant-art-link.value')) {
                            getField('infant-art-link.error').html('Infant ART Link must be provided').show();
                            return false;
                        }
                    }
                }
                <!-- Validate infant transfer status? -->
                if (jq('#infant-transfer-status').length > 0) { <!-- check the existence of the element, in case it is excluded from the form based on previous known state -->
                    setValue('infant-transfer-status.error', '');
                        if (!getValue('infant-transfer-status.value')) {
                            getField('infant-transfer-status.error').html('Infant Transfer status must be provided').show();
                            return false;
                        }
                }
                return true;
            });
		});
	</script>
	
	<h2>
		<label>
            Infant - Postnatal Form
		</label>
	</h2>
	<table id="who-when-where">
		<tbody>
			<tr>
				<td>
					<label>
						Attending Clinican
					</label>
					<encounterProvider default="currentUser" />
				</td>
				<td>
					<label>
						Health Facility
					</label>
					<span id="currentLocation"></span>
					<encounterLocation default="SessionAttribute:emrContext.sessionLocationId"
									   tags="1" /> <!-- Only show Login locations -->
				</td>
				<td>
					<label name="encounterDate">
						Visit Date
					</label>
					<encounterDate disallowMultipleEncountersOnDate="block" />
				</td>
			</tr>
		</tbody>
	</table>
	<section sectionTag="fieldset" headerTag="legend" headerStyle="title" headerCode="Summary Information">
	<div class="section-container">
		<lookup complexExpression="#foreach ( $relationship in $relationshipList )
										#if( $relationship.relationshipType.aIsToB == 'Parent' )
											  #if( !($relationship.personA.patientId == $patient.patientId ))
												 #if( $relationship.personA.gender == 'F' )
														#set ($mother = $relationship.personA)
												 #end
											  #end
										#end
									#end "/>
		<includeIf velocityTest="$mother">
			<table>
				<tr>
					<th>Mother</th>
					<!-- <th>ART Status</th> TODO: display only for client in the current facility-->
					<th>Telephone Number</th>
				</tr>
				<tr>
					<td><lookup expression="mother.personName" /> </td>
                    <!-- <td> #Steve: I am not sure if this picks any latest obs or for this client -->
                        <!-- <includeIf velocityTest="$fn.latestObs('164860AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA').valueCoded.conceptId == 703
                                || $fn.latestObs('164461AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA').valueCoded.conceptId == 703"> --> <!-- todo: diplay either of the DNA or Rapid test results -->
                            <!-- Currently displaying only DNA PCR test result -->
                            <!-- <lookup	complexExpression="$fn.latestObs('164461AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA').valueCoded.name"/> on <lookup	complexExpression="$fn.latestObs('164461AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA').obsDatetime"/>
                        </includeIf> -->
                    <!-- </td> -->
					<td><lookup expression="mother.getAttribute('Telephone Number')" /></td>
				</tr>
			</table>
		</includeIf>
		<includeIf velocityTest="!$mother">
			<p>
				<label>Mother</label>
				<relationship type="8d91a210-c2cc-11de-8d13-0010c6dffd0f" whoAmI="B" changeExistingRelationship="true"></relationship>
			</p>
		</includeIf>
	</div>
	</section>
    <includeIf velocityTest="$fn.latestObs('164460AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA').valueCoded.conceptId != 703">
        <!-- don't follow an infant whose confirmatory test is positive -->
        <section sectionTag="fieldset" headerTag="legend" headerStyle="title" headerCode="Exposure and Prophylaxis Information">
            <script>
                jq(function() {

                    <!-- infant tested for HIV -->
                    jq('#infant-hiv-test').click(function(){
                        if (getValue('infant-hiv-test.value') == 164912) {
                            showContainer('#infant-test-type-container');
                        } else {
                            hideContainer('#infant-test-type-container');
                            <!-- Don't keep the test result container when there is not type of test done-->
                            hideContainer('#dnapcr-test-result-container');
                            hideContainer('#rapid-test-result-container');
                            hideContainer('#confirmatory-test-done-container');
                            hideContainer('#final-test-result-container');
                            hideContainer('#infant-art-number-container');
                            hideContainer('#infant-art-link-container');
                        }
                    });

                    <!-- type of test done -->
                    jq('#infant-test-type').click(function(){
                        if (getValue('infant-test-type.value') == 844) { <!-- It is DNA PCR test -->
                            showContainer('#dnapcr-test-result-container');
                            hideContainer('#rapid-test-result-container');
                        } else if (getValue('infant-test-type.value') == 1042){ <!-- It is Rapid test -->
                            showContainer('#rapid-test-result-container');
                            hideContainer('#dnapcr-test-result-container');
                        } else {
                            hideContainer('#dnapcr-test-result-container');
                            hideContainer('#rapid-test-result-container');
                            hideContainer('#confirmatory-test-done-container');
                            hideContainer('#final-test-result-container');
                            hideContainer('#infant-art-number-container');
                            hideContainer('#infant-art-link-container');
                        }
                    });
                    <!-- recorded test result for DNA PCR -->
                    jq('#dnapcr-test-result').click(function(){
                            if (getValue('dnapcr-test-result.value') == 703) {
                                showContainer('#confirmatory-test-done-container');
                            } else {
                                hideContainer('#confirmatory-test-done-container');
                                hideContainer('#final-test-result-container');
                                hideContainer('#infant-art-number-container');
                                hideContainer('#infant-art-link-container');
                            }
                        });
                <!-- recorded test result for Rapid Test -->
                    jq('#rapid-test-result').click(function(){
                            if (getValue('rapid-test-result.value') == 703) {
                                showContainer('#confirmatory-test-done-container'); <!-- A positive RT requires a final confirmatory test done -->
                            } else {
                                hideContainer('#confirmatory-test-done-container');
                                hideContainer('#final-test-result-container'); <!-- don't show the final test result if RT is negative -->
                                hideContainer('#infant-art-number-container');
                                hideContainer('#infant-art-link-container');
                            }
                        });
                <!-- confirmatory test done -->
                    jq('#confirmatory-test-done').click(function(){
                        if (getValue('confirmatory-test-done.value') == 1065) {
                            showContainer('#final-test-result-container');
                        } else {
                            hideContainer('#final-test-result-container');
                        }
                    });

                <!-- HIV exposure status  -->
                jq('#infant-hiv-exposure-status').click(function(){
                    if (getValue('infant-hiv-exposure-status.value') == 164920) {
                        showContainer('#infant-prophylaxis-status-container');
                        showContainer('#infant-ctx-status-container');
                        showContainer('#infant-hiv-test-container');
                        showContainer('#infant-transfer-status-container');
                        showContainer('#submit-container');
                        hideContainer('#cancel-container');
                    } else {
                        hideContainer('#infant-prophylaxis-status-container');
                        hideContainer('#infant-ctx-status-container');
                        hideContainer('#infant-prophylaxis-adherence-container');
                        hideContainer('#infant-ctx-adherence-container');
                        hideContainer('#infant-hiv-test-container');
                        hideContainer('#infant-transfer-status-container');
                        showContainer('#cancel-container');
                        hideContainer('#submit-container');

                    }
                });
                <!-- final test result Only link to ART and indicate ART number when final test result returns positive-->
                jq('#final-test-result').click(function(){
                    if (getValue('final-test-result.value') == 703) {
                            showContainer('#infant-art-link-container');
                        } else {
                            hideContainer('#infant-art-link-container');
                        }
                    });
                <!-- Infant linked to ART, enter the ART Number-->
                jq('#infant-art-link').click(function(){
                    if (getValue('infant-art-link.value') == 1065) {
                            showContainer('#infant-art-number-container');
                            hideContainer('#next-visit-date-container');
                        } else {
                            hideContainer('#infant-art-number-container');
                            showContainer('#next-visit-date-container');
                        }
                    });

                <!-- handle missing values -->
                <!-- jq('#transfer_in_date_missing').change(function(){
                handleMissingSelection('transfer_in_date');
                });-->
                jq('#transfer_out_date_missing').change(function(){
                    handleMissingSelection('transfer_out_date');
                });
                jq('#infant_death_date_missing').change(function(){
                    handleMissingSelection('infant_death_date');
                });
                jq('#next_visit_date_missing').change(function(){
                    handleMissingSelection('next_visit_date');
                });
                jq('#infant_art_number_missing').change(function(){
                    handleMissingSelection('infant_art_number');
                });
            });
            </script>
            <div class="section-container">
           <!-- <p class="narrow">
                <label>
                    PTracker Infant Unique Number
                </label> -->
                <!--<patient field="identifier" identifierTypeId="05ee9cf4-7242-4a17-b4d4-00f707265c8a" />-->
                <!-- <input type="text" size="15"/>
            </p> -->
                <!--exclude if: Mother is P (703), KP (1169) and Infant exposed (822) -->
            <excludeIf velocityTest="$fn.latestObs('159427AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA').valueCoded.conceptId == 138571 ||
                                    $fn.latestObs('164401AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA').valueCoded.conceptId == 1169 ||
                                    $fn.latestObs('164921').valueCoded.conceptId == 164920 ">
                <p>
                    <label>
                        HIV Exposure Status
                    </label>
                    <obs id="infant-hiv-exposure-status" style="radio" conceptId="164921" answerConceptIds="164920,164919,164932" answerLabels="Currently Exposed,Currently Unexposed, Missing" answerSeparator="" />
                </p>
            </excludeIf>

            <p id="infant-prophylaxis-status-container">
                <label>
                    ARV Prophylaxis status
                </label>
                <obs id="infant-prophylaxis-status" style="radio" conceptId="1148AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                     answerConceptIds="164922,164923,164924,164932" answerLabels="Received ARV prophylaxis,Never received ARV prophylaxis, Stopped ARV prophylaxis according to guideline, Missing" answerSeparator=""/>
            </p>
            <p id="infant-prophylaxis-adherence-container" class="hidden">
                <label>ARV Adherence</label>
                <obs id="infant-prophylaxis-adherence" style="radio" conceptId="1658AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                     answerConceptIds="159405,159406,159407,1256,164932" answerLabels="Good,Fair,Poor,Starting prophylaxis on this visit,Missing" answerSeparator=""/>
            </p>

            <p id="infant-ctx-status-container">
                <label>
                    CTX Prophylaxis status
                </label>
                <obs id="infant-ctx-status" style="radio" conceptId="164928"
                     answerConceptIds="164927,164926,164925,164932" answerLabels="Received CTX prophylaxis,Never received CTX prophylaxis, Stopped CTX prophylaxis, Missing" answerSeparator=""/>
            </p>
            <p id="infant-ctx-adherence-container" class="hidden">
                <label>CTX Adherence</label>
                <obs id="infant-ctx-adherence" style="radio" conceptId="161652AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                     answerConceptIds="159405,159406,159407,1256,164932" answerLabels="Good,Fair,Poor,Starting prophylaxis on this visit,Missing" answerSeparator=""/>
            </p>

            <p id="infant-hiv-test-container">
                <label>
                    Was this infant tested for HIV during this visit?
                </label>
                <obs id="infant-hiv-test" style="radio" conceptId="164401AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                     answerConceptIds="164912,164913,164932" answerLabels="Tested for HIV during this visit,Not tested for HIV during this visit, Missing" answerSeparator=""/>
            </p>

            <p id="infant-test-type-container" class="hidden">
                <label>
                    What kind of test was used?
                </label>
                <obs id="infant-test-type" style="radio" conceptId="164929" answerConceptIds="844,1042,164932" answerLabels="DNA PCR, Rapid Test, Missing" answerSeparator="" />
            </p>
                <p id="dnapcr-test-result-container" class="hidden">
                    <label>
                        What was the DNA PCR test result?
                    </label>
                    <obs id="dnapcr-test-result" style="radio" conceptId="164461AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptIds="664,703,159971,164932"
                         answerLabels="Negative,Positive,Results Pending,Missing" answerSeparator=""/>
                </p>
                <p id="rapid-test-result-container" class="hidden">
                    <label>
                        What was the Rapid test result?
                    </label>
                    <obs id="rapid-test-result" style="radio" conceptId="164860AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptIds="664,703,164932"
                         answerLabels="Negative,Positive,Missing" answerSeparator=""/>
                </p>
                <lookup complexExpression="#set ($age = $patient.person.age) "/>
                <!--  <includeIf velocityTest="($age &gt; 1)">TODO: include if the age is more than or equals 18 months -->
                    <p id="confirmatory-test-done-container" class="hidden">
                        <label>
                            Was a confirmatory test performed during this visit?
                        </label> <!-- Child HIV test performed -->
                        <obs id="confirmatory-test-done" style="radio" conceptId="164930" answerConceptIds="1065,1066,164932" answerLabels="Yes, No, Missing" answerSeparator=""/>
                    </p>
                    <p id="final-test-result-container" class="hidden">
                        <label>
                            What was the final test result for the confirmatory test?
                        </label> <!-- Child HIV antibody test result -->
                        <obs id="final-test-result" style="radio" conceptId="164460AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptIds="664,703,159971,164932"
                             answerLabels="Negative,Positive,Results Pending, Missing"  answerSeparator=""/>
                    </p>
                <!-- </includeIf>  -->
            <p id="infant-art-link-container" class="hidden">
                <label>
                    Was this infant linked to ART
                </label>
                <obs id="infant-art-link" style="radio" conceptId="164931" answerConceptIds="1065,1066,164932" answerLabels="Yes, No, Missing" answerSeparator=""/>
            </p>

            <p id="infant-art-number-container" class="hidden narrow">
                <label>
                    Infant ART Unique Number
                </label>
                <!--<patient field="identifier" identifierTypeId="05ee9cf4-7242-4a17-b4d4-00f707265c8a" />-->
                <!-- <input id="infant_art_number" type="text" size="15"/> -->
                <span id="infant_art_number">
                    <patient field="identifier" identifierTypeId="9d6d1eec-2cd6-4637-a981-4a46b4b8b41f"  required="false" />
                </span>
                <obs id="infant_art_number_missing" conceptId="164936" style="checkbox" answerLabel="answerLabel" labelText="Infant ART Unique Number missing"/>
            </p>
            </div>
        </section>
        <section sectionTag="fieldset" headerTag="legend" headerStyle="title" headerCode="Infant status">
            <div class="section-container radios">
            <p id="infant-transfer-status-container">
                <label>
                    Infant outcome status
                </label>
                <obs id="infant-transfer-status" style="radio" conceptId="160433AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                     answerConceptIds="161636,160563,159492,5240,160432,164932"
                     answerLabels="Still in Care, Transfer In to ART Clinic, Transferred Out, Lost to Follow Up, Dead, Missing" answerSeparator=""/>
            </p>
            <p id="transfer-in-from-container" class="hidden">
                <label>Transferred in from</label>
                <obs conceptId="160535AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" style="location" answerLocationTags="2" />
            </p>
            <p id="transfer-out-to-container" class="hidden">
                <label>Transfered out to</label>
                <obs conceptId="159495AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" style="location" answerLocationTags="2" />
            </p>
            <p id="transfer-in-date-container" class="hidden narrow">
                <label> Transfer in date </label>
                <obs id="transfer_in_date" conceptId="160534AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" allowFutureDates="false"/>
                <obs id="transfer_in_date_missing" conceptId="164946" style="checkbox" answerLabel="answerLabel" labelText="Transfer in date missing"/>
            </p>
            <p id="transfer-out-date-container" class="hidden narrow">
                <label> Transfer out date </label>
                <obs id="transfer_out_date" conceptId="160649AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" allowFutureDates="false" />
                <obs id="transfer_out_date_missing" conceptId="164950" style="checkbox" answerLabel="answerLabel" labelText="Transfer out date missing"/>
            </p>
            <p id="infant-death-date-container" class="hidden narrow">
                <label>Date of Death</label>
                <obs id="infant_death_date" conceptId="1543AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" allowFutureDates="false"/>
                <obs id="infant_death_date_missing" conceptId="164941" style="checkbox" answerLabel="answerLabel" labelText="Infant death date missing"/>
            </p>
            <p id="next-visit-date-container" class="hidden narrow">
                <label>Next visit date </label>
                <obs id="next_visit_date" conceptId="5096AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" allowFutureDates="true"/>
                <obs id="next_visit_date_missing" conceptId="164941" style="checkbox" answerLabel="answerLabel" labelText="Next visit date missing"/>
            </p>
        <script>
            jq(function() {
                <!-- show facility transfer from and to and dates for infant transfers -->
                jq('#infant-transfer-status').click(function(){
            <!-- Still in care -->
                    if (getValue('infant-transfer-status.value') == 161636 ||
                        getValue('infant-transfer-status.value') == 160563  ) {
                        showContainer('#next-visit-date-container');
                    } else {
                        hideContainer('#next-visit-date-container');
                    }
            <!-- Transferred in -->
                    if (getValue('infant-transfer-status.value') == 160563) {
                        showContainer('#transfer-in-from-container');
                        showContainer('#transfer-in-date-container');
                    } else {
                        hideContainer('#transfer-in-from-container');
                        hideContainer('#transfer-in-date-container');
                    }
            <!-- Transferred Out -->
                    if (getValue('infant-transfer-status.value') == 159492) {
                        showContainer('#transfer-out-to-container');
                        showContainer('#transfer-out-date-container');
                    } else {
                        hideContainer('#transfer-out-to-container');
                        hideContainer('#transfer-out-date-container');
                    }
            <!-- Do not show next visit date when Missed, Dead, Transferred Out, LTFU is selected -->
                    if (getValue('infant-transfer-status.value') == 164932 ||
                        getValue('infant-transfer-status.value') == 160432 ||
                        getValue('infant-transfer-status.value') == 159492 ||
                        getValue('infant-transfer-status.value') == 5240) {
                            hideContainer('#next-visit-date-container');
                    } else {
                            showContainer('#next-visit-date-container');
                    }
                });

            <!-- Show adherence for ARV and CTX if the infant is recieving any -->
                jq('#infant-prophylaxis-status').click(function(){
                    if (getValue('infant-prophylaxis-status.value') == 164922) {
                        showContainer('#infant-prophylaxis-adherence-container');
                    } else {
                        hideContainer('#infant-prophylaxis-adherence-container');
                    }
                });
                jq('#infant-ctx-status').click(function(){
                    if (getValue('infant-ctx-status.value') == 164927) {
                        showContainer('#infant-ctx-adherence-container');
                    } else {
                        hideContainer('#infant-ctx-adherence-container');
                    }
                });
            });
        </script>
           </div>
        </section>
        <p id="submit-container" >
            <submit id="enterSubmission" class="confirm center" />
        </p>
        <p id="cancel-container" class="hidden">
            <input id="cancelSubmission" value="Cancel" class="cancel center hidden" type="button" />
        </p>
    </includeIf>
</htmlform>