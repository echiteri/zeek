<htmlform formName="Postnatal Form"
		  formDescription="A visit for a mother for Post natal Care"
		  formEncounterType="269bcc7f-04f8-4ddc-883d-7a3a0d569aad"
		  formUuid="e6b67aa4-6c59-4470-8ad5-b994efeda553"
		  formVersion="0.9"
		  formAddMetadata="yes"
		  formUILocation="patientDashboard.visitActions"
		  formOrder="10"
		  formIcon="icon-medkit"
		  formShowIf="(visit.active || !visit.active) &amp;&amp; patient.person.dead==false &amp;&amp; patient.person.gender=='F' &amp;&amp; patient.person.age &gt; 12"
		  formDisplayStyle="Standard">
	
	<script type="text/javascript">
		jq(function() {
			/* Show the current location and visit date while hiding the encounter location drop down and date picker for
		encounter date */
			jq('#encounterLocation, #encounterDate').hide();
			jq('#currentLocation').text(jq('#encounterLocation select option:selected').text());
			jq('#visitDate').text(jq('#encounterDate input:nth-child(1)').val());
		
			jq('#mothers-visit-status').click(function(){
				if(getValue('mothers-visit-status.value') == 161636) {
					jq('#mother-visit-status-container p').addClass('hidden');
					jq('#mother-visit-status-container :input').attr('disabled', true);
					jq('#mother-visit-status-container :input').attr('checked', false);
			
					jq('#next-visit-date').removeClass('hidden');
					jq('#next-visit-date :input').attr('disabled', false);
				} else if(getValue('mothers-visit-status.value') == 160034) {
					jq('#mother-visit-status-container p').addClass('hidden');
					jq('#mother-visit-status-container :input').attr('disabled', true);
					jq('#mother-visit-status-container :input').attr('checked', false);
					jq('#patient-death-info').removeClass('hidden');
					jq('#patient-death-info :input').attr('disabled', false);
				} else if(getValue('mothers-visit-status.value') == 159492) {
					jq('#mother-visit-status-container p').addClass('hidden');
					jq('#mother-visit-status-container :input').attr('disabled', true);
					jq('#mother-visit-status-container :input').attr('checked', false);
					
					jq('#transfer-info').removeClass('hidden');
					jq('#transfer-info :input').attr('disabled', false);
				
				} else {
					jq('#mother-visit-status-container p').addClass('hidden');
					jq('#mother-visit-status-container :input').attr('disabled', true);
					jq('#mother-visit-status-container :input').attr('checked', false);
				}
			});
			});
	</script>
	
	<h2>
		<label>
			Mother Post-Natal Care Form
		</label>
	</h2>
	<section id="who-when-where">
		<p id="who">
			<label>
				Attending Clinican
			</label>
			<encounterProvider  default="currentUser"/>
		</p>
		<p id="where">
			<label>
				Health Facility
			</label>
			<span id="currentLocation"></span>
			<encounterLocation default="SessionAttribute:emrContext.sessionLocationId" tags="1" /> <!-- Only
			show
			Login
			locations -->
		</p>
		<p id="when">
			<label>
				Visit Date
			</label>
			<span id="visitDate"></span>
			<encounterDate default="today" disallowMultipleEncountersOnDate="block" />
		</p>
	</section>
	<includeIf velocityTest="(($fn.latestObs(160117).valueCoded !=160119) &amp;&amp; ($fn.latestObs(160117).valueCoded !=160120))">
		<div class="section-container radios">


				<p id="art-status">
					<label>
						Mother ART Status
					</label>
					<obs style="radio" conceptId="160117AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
						 answerConceptIds="160119,160120,127750,1754,1067"
						 answerLabels="Already on ART before starting ANC,Started on ART during this visit,Refused ART,Not started due to stockout,Unknown"
						 answerSeparator="" />
				</p>


			<p>
				<label>
					ART Unique Number
				</label>
				<!--<patient field="identifier" identifierTypeId="05ee9cf4-7242-4a17-b4d4-00f707265c8a" />-->
				<input type="text" size="15" />
			</p>
		</div>
	
	<section sectionTag="fieldset" headerTag="legend" headerStyle="title" headerCode="Tests">
		<div class="section-container">
			<p>
				<label>
					HIV Test Status
				</label>
				<obs style="radio" conceptId="161558AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptIds="1065,1066,1067"
					 answerLabels="Tested for HIV during this visit,Not tested for HIV during this visit, Unknown"
					 answerSeparator="" />
			</p>
			<p>
				<label>
					HIV Test Result
				</label>
				<obs style="radio" conceptId="1396AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerSeparator="" />
			</p>
			
			<p id="viralloadstaus-container">
				<label>
					Most Recent Viral Load
				</label>
				<obs style="radio" conceptId="163310" id="163310" answerConceptIds="1118, 1306, 1301,1067"
					 answerLabels="No VL test done, Undetectable VL, VL detected&#44; Specify VL below, Unknown"
					 answerSeparator="" />
			</p>
			<p id="viralload-container">
				<label>
					Viral Load
				</label>
				<obs conceptId="856AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" size="7" />
			</p>
		</div>
	</section>
	</includeIf>
	<section sectionTag="fieldset" headerTag="legend" headerStyle="title" headerCode="Breastfeeding">
		<div class="section-container radios">
			<p id="bf-container">
				<label>
					Breastfeeding Status
				</label>
				<obs style="radio" conceptId="1151AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
					 answerConceptIds="5526,1595,6046,1067"
					 answerLabels="Exclusive Breastfeeding, Replacement Breasfeeding, Mixed Breastfeeding, Unknown"
					 answerSeparator="" />
			</p>
		</div>
	</section>
	<section sectionTag="fieldset" headerTag="legend" headerStyle="title" headerCode="Status and Next Appointment">
		<div class="section-container">
			<p>
				<label>
					Mother's status after this visit
				</label>
				<obs style="radio" conceptId="1856AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
					 answerConceptIds="161636,159492,1067"
					 answerLabels="Still in Care,Transferred Out, Unknown" answerSeparator="" />
			</p>
			<div id="mother-visit-status-container">
				<p id="next-visit-date" class="hidden narrow">
					<label>Next Visit Date</label>
					<obs conceptId="5096AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" allowFutureDates="true" />
				</p>
				<p id="transfer-info" class="hidden narrow">
					<label>Transferred out to</label>
					<obs conceptId="159495AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" style="location" answerLocationTags="2" />
				</p>
				<p id="patient-death-info" class="hidden">
				</p>
			</div>
		</div>
	</section>
	<submit class="confirm center" />
</htmlform>