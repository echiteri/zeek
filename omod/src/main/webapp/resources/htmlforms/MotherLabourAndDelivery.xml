<htmlform formName="Labour &amp; Delivery Form"
		  formDescription="A visit for a mother for Labour and Delivery services"
		  formEncounterType="2678423c-0523-4d76-b0da-18177b439eed"
		  formUuid="1e5614d6-5306-11e6-beb8-9e71128cae77"
		  formVersion="0.9"
		  formAddMetadata="yes"
		  formUILocation="patientDashboard.visitActions"
		  formOrder="5"
		  formIcon="icon-medkit"
		  formShowIf="(visit.active || !visit.active) &amp;&amp; patient.person.dead==false &amp;&amp; patient.person.gender=='F' &amp;&amp; patient.person.age &gt; 12"
		  formDisplayStyle="Standard">
	
	<script type="text/javascript">
		jq(function() {
			/* Show the current location and visit date while hiding the encounter location drop down and date picker for
		encounter date */
			jq('#encounterLocation, #encounterDate').hide();
			jq('#currentLocation').text(jq('#encounterLocation select option:selected').text());
			jq('#visitDate').text(jq('#encounterDate input:nth-child(1)').val());
		});
	</script>
	
	<h2>
		<label>
			Mother Labour and Delivery Form
		</label>
	</h2>
	<section id="who-when-where">
		<p id="who">
			<label>
				Attending Clinican
			</label>
			<encounterProvider />
		</p>
		<p id="where">
			<label>
				Health Facility
			</label>
			<span id="currentLocation"></span>
			<encounterLocation default="SessionAttribute:emrContext.sessionLocationId" tags="1" /> <!-- Only
			show
			Login
			locations -->
		</p>
		<p id="when">
			<label>
				Visit Date
			</label>
			<span id="visitDate"></span>
			<encounterDate default="today" disallowMultipleEncountersOnDate="block" />
		</p>
	</section>
	
	<section sectionTag="fieldset" headerTag="legend" headerStyle="title" headerCode="Delivery Information">
		<div class="section-container">
			<p class="narrow">
				<label>
					Was this client booked at ANC?
				</label>
				<obs style="yes_no" conceptId="1246AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"  />
			</p>
			<p>
				<label>
					Does the client have a pink book?
				</label>
				<obs style="radio" conceptId="1719AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerSeparator="" />
			</p>
			<p>
				<label>
					ANC Client Number
				</label>
				<obs conceptId="161655AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" />
			</p>
			<p>
				<label>
					Delivery Number
				</label>
				<input type="text" size="14" />
			</p>
		</div>
	</section>
	<section sectionTag="fieldset" headerTag="legend" headerStyle="title" headerCode="ART Status">
		<div class="section-container">
			<includeIf velocityTest="$fn.latestObs(1396).valueCoded !=703">
				<p>
					<label>
						HIV Test Status
					</label>
					<obs style="radio" conceptId="161558AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptIds="1065,1066,1067"
						 answerLabels="Tested for HIV during this visit,Not tested for HIV during this visit, Unknown"
						 answerSeparator="" />
				</p>
				<p>
					<label>
						HIV Test Result
					</label>
					<obs style="radio" conceptId="1396AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptIds="664,703,1067"
						 answerLabels="Negative,Positive,Unknown" answerSeparator="" />
				</p>
				<p id="mother-art-status-container">
					<label>
						Mother ART Status
					</label>
					<obs style="radio" conceptId="160117AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
						 answerConceptIds="160119,160120,127750,1754,1067"
						 answerLabels="Already on ART before starting ANC,Started on ART during labour and delivery,Refused ART,Not started due to stockout,Unknown"
						 answerSeparator="" />
				</p>
			</includeIf>
			<includeIf velocityTest="$fn.latestObs(1396).valueCoded ==703">
				<includeIf velocityTest="(($fn.latestObs(160117).valueCoded !=160119) &amp;&amp; ($fn.latestObs(160117).valueCoded !=160120))">
					<p id="mother-art-status-container">
						<label>
							Mother ART Status
						</label>
						<obs style="radio" conceptId="160117AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
							 answerConceptIds="160119,160120,127750,1754,1067"
							 answerLabels="Already on ART before starting ANC,Started on ART during labour and delivery,Refused ART,Not started due to stockout,Unknown"
							 answerSeparator="" />
					</p>
				</includeIf>
			</includeIf>

			
			<p id="infant-arv-status-container">
				<label>
					Infant Prophylaxis Status
				</label>
				<obs style="radio" conceptId="1148AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptIds="1065,127750,1754"
					 answerLabels="ARV Prohylaxis daily up to 6 weeks,Refused ARV Prophylaxis,Stock-out of ARV"
					 answerSeparator="" />
			</p>
			<p id="unique-art-number">
				<label>
					Unique ART Number(ePMS)
				</label>
				<input type="text" size="15" />
			</p>
			<p id="edt-art-number">
				<label>
					EDT ART Number
				</label>
				<input type="text" size="15" />
			</p>
			<p id="pmtct-number">
				<label>
					Child PMTCT Unique No
				</label>
				<input type="text" size="15" />
			</p>
			<p id="expected-post-natal-facility">
				<label>
					Expected post natal care facility
				</label>
				<input type="text" size="15" />
			</p>
		</div>
	</section>
	<br />
	<br />
	<div class="section-container">
		<p>
			<label>
				Mother's status after this visit
			</label>
			<obs style="radio" conceptId="1856AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptIds="161636,160034,159492,1067"
				 answerLabels="Still in Care,Patient Died,Transferred Out, Unknown" answerSeparator="" />
		</p>
	</div>
	<submit class="confirm center" />
</htmlform>