[
  {
    "id": "namibia.registrationapp.registerPatient",
    "instanceOf": "registrationapp.registerPatient",
    "label": "namibia.registrationapp.registerpatient.label",
    "description": "namibia.registrationapp.registerpatient.description",
    "extensions": [
      {
        "id": "namibia.registrationapp.registerPatient.homepageLink",
        "extensionPointId": "org.openmrs.referenceapplication.homepageLink",
        "type": "link",
        "label": "namibia.registrationapp.registerpatient.label",
        "url": "namibia/namibiaRegisterPatient.page?appId=namibia.registrationapp.registerPatient",
        "icon": "icon-user",
        "order": 1,
        "requiredPrivilege": "App: registrationapp.registerPatient"
      }
    ],
    "config": {
      "allowUnknownPatients": false,
      "allowRetrospectiveEntry": true,
      "afterCreatedUrl": "/coreapps/clinicianfacing/patient.page?patientId={{patientId}}",
      "sections": [
        {
          "id": "PTrackerIDSection",
          "label": "namibia.registrationapp.patient.ptrackerid.label",
          "questions": [
            {
              "legend": "namibia.registrationapp.patient.ptrackerid.label",
              "fields": [
                {
                  "type": "patientIdentifier",
                  "label": "namibia.registrationapp.patient.ptrackerid.question",
                  "formFieldName": "ptrackerId1",
                  "uuid": "4da0a3fe-e546-463f-81fa-084f098ff06c",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text",
                    "config": {
                      "regex": "^[0-9]{5}[A-S]{1}[0-9]{6,8}$"
                    }
                  },
                  "cssClasses": [
                    "regex", "ptrackerId1"
                  ]
                },
                {
                  "type": "patientIdentifier",
                  "label": "namibia.registrationapp.patient.ptrackerid.question2",
                  "formFieldName": "ptrackerId2",
                  "uuid": "4da0a3fe-e546-463f-81fa-084f098ff06d",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text",
                    "config": {
                      "regex": "^(|[0-9]{5}[A-S]{1}[0-9]{6,8})$"
                    }
                  },
                  "cssClasses": [
                    "regex", "ptrackerId2", "hidden"
                  ]
                },
                {
                  "type": "patientIdentifier",
                  "label": "namibia.registrationapp.patient.ptrackerid.question3",
                  "formFieldName": "ptrackerId3",
                  "uuid": "4da0a3fe-e546-463f-81fa-084f098ff06e",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text",
                    "config": {
                      "regex": "^(|[0-9]{5}[A-S]{1}[0-9]{6,8})$"
                    }
                  },
                  "cssClasses": [
                    "regex", "ptrackerId3", "hidden"
                  ]
                },
                {
                  "type": "patientIdentifier",
                  "label": "namibia.registrationapp.patient.ptrackerid.question4",
                  "formFieldName": "ptrackerId4",
                  "uuid": "4da0a3fe-e546-463f-81fa-084f098ff06f",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text",
                    "config": {
                      "regex": "^(|[0-9]{5}[A-S]{1}[0-9]{6,8})$"
                    }
                  },
                  "cssClasses": [
                    "regex", "ptrackerId4", "hidden"
                  ]
                },
                {
                  "type": "patientIdentifier",
                  "label": "namibia.registrationapp.patient.ptrackerid.question5",
                  "formFieldName": "ptrackerId5",
                  "uuid": "4da0a3fe-e546-463f-81fa-084f098ff06g",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text",
                    "config": {
                      "regex": "^(|[0-9]{5}[A-S]{1}[0-9]{6,8})$"
                    }
                  },
                  "cssClasses": [
                    "regex", "ptrackerId5", "hidden"
                  ]
                },
                {
                  "type": "patientIdentifier",
                  "label": "namibia.registrationapp.patient.ptrackerid.question6",
                  "formFieldName": "ptrackerId6",
                  "uuid": "4da0a3fe-e546-463f-81fa-084f098ff06h",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text",
                    "config": {
                      "regex": "^(|[0-9]{5}[A-S]{1}[0-9]{6,8})$"
                    }
                  },
                  "cssClasses": [
                    "regex", "ptrackerId6", "hidden"
                  ]
                },
                {
                  "type": "patientIdentifier",
                  "label": "namibia.registrationapp.patient.ptrackerid.question7",
                  "formFieldName": "ptrackerId7",
                  "uuid": "4da0a3fe-e546-463f-81fa-084f098ff06i",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text",
                    "config": {
                      "regex": "^(|[0-9]{5}[A-S]{1}[0-9]{6,8})$"
                    }
                  },
                  "cssClasses": [
                    "regex", "ptrackerId", "hidden"
                  ]
                },
                {
                  "type": "patientIdentifier",
                  "label": "namibia.registrationapp.patient.ptrackerid.question8",
                  "formFieldName": "ptrackerId8",
                  "uuid": "4da0a3fe-e546-463f-81fa-084f098ff06j",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text",
                    "config": {
                      "regex": "^(|[0-9]{5}[A-S]{1}[0-9]{6,8})$"
                    }
                  },
                  "cssClasses": [
                    "regex", "ptrackerId", "hidden"
                  ]
                },
                {
                  "type": "patientIdentifier",
                  "label": "namibia.registrationapp.patient.ptrackerid.question9",
                  "formFieldName": "ptrackerId9",
                  "uuid": "4da0a3fe-e546-463f-81fa-084f098ff06k",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text",
                    "config": {
                      "regex": "^(|[0-9]{5}[A-S]{1}[0-9]{6,8})$"
                    }
                  },
                  "cssClasses": [
                    "regex", "ptrackerId", "hidden"
                  ]
                }
              ]
            }
          ]
        },
        {
          "id": "contactInfo",
          "label": "registrationapp.patient.contactInfo.label",
          "questions": [
            {
              "legend": "Person.address",
              "fields": [
                {
                  "type": "personAddress",
                  "label": "registrationapp.patient.address.question",
                  "widget": {
                    "providerName": "registrationapp",
                    "fragmentId": "field/personAddressWithHierarchy",
                    "config": {
                      "manualFields": [
                        "address1",
                        "address2"
                      ]
                    }
                  }
                }
              ]
            },
            {
              "legend": "registrationapp.patient.phone.label",
              "id": "phoneNumberLabel",
              "fields": [
                {
                  "type": "personAttribute",
                  "label": "namibia.registrationapp.patient.phone.question",
                  "formFieldName": "phoneNumber",
                  "uuid": "14d4f066-15f5-102d-96e4-000c29c2a5d7",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text",
                    "config": {
                      "regex": "^[0-9]{8,10}$|^$"
                    }
                  },
                  "cssClasses": [
                    "number",
                    "regex"
                  ]
                }
              ]
            }
          ]
        },
        {
          "id": "otherDemographic",
          "label": "namibia.person.otherdemographic.label",
          "questions": [
            {
              "legend": "namibia.registrationapp.person.nextofkinname.label",
              "id": "nextofkinname.label",
              "fields": [
                {
                  "type": "personAttribute",
                  "label": "namibia.registrationapp.person.nextofkinname.question",
                  "formFieldName": "nextofkinname",
                  "uuid": "dc0cf7a8-dede-4c3d-9db4-730900aedd1a",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text"
                  }
                }
              ]
            },
            {
              "legend": "namibia.registrationapp.person.nextofkincontact.label",
              "id": "nextofkincontact.label",
              "fields": [
                {
                  "type": "personAttribute",
                  "label": "namibia.registrationapp.person.nextofkincontact.question",
                  "formFieldName": "nextofkincontact",
                  "uuid": "d135bf7c-6ddd-4636-be22-fbd334a8f134",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text",
                    "config": {
                      "regex": "^[0-9]{8,10}$|^$"
                    }
                  },
                  "cssClasses": [
                    "number",
                    "regex"
                  ]
                }
              ]
            }
          ]
        }
      ]
    }
  }
]