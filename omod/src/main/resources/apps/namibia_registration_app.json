[
  {
    "id": "namibia.registrationapp.registerPatient",
    "instanceOf": "registrationapp.registerPatient",
    "label": "namibia.registrationapp.registerpatient.label",
    "description": "namibia.registrationapp.registerpatient.description",
    "extensions": [
      {
        "id": "namibia.registrationapp.registerPatient.homepageLink",
        "extensionPointId": "org.openmrs.referenceapplication.homepageLink",
        "type": "link",
        "label": "namibia.registrationapp.registerpatient.label",
        "url": "namibia/namibiaRegisterPatient.page?appId=namibia.registrationapp.registerPatient",
        "icon": "icon-user",
        "order": 1,
        "requiredPrivilege": "App: registrationapp.registerPatient"
      }
    ],
    "config": {
      "allowUnknownPatients": false,
      "allowRetrospectiveEntry": true,
      "afterCreatedUrl": "/coreapps/clinicianfacing/patient.page?patientId={{patientId}}",
      "sections": [
        {
          "id": "contactInfo",
          "label": "registrationapp.patient.contactInfo.label",
          "questions": [
            {
              "legend": "Person.address",
              "fields": [
                {
                  "type": "personAddress",
                  "label": "registrationapp.patient.address.question",
                  "widget": {
                    "providerName": "registrationapp",
                    "fragmentId": "field/personAddressWithHierarchy",
                    "config": {
                      "manualFields": [
                        "address1",
                        "address2"
                      ]
                    }
                  }
                }
              ]
            },
            {
              "legend": "registrationapp.patient.phone.label",
              "id": "phoneNumberLabel",
              "fields": [
                {
                  "type": "personAttribute",
                  "label": "namibia.registrationapp.patient.phone.question",
                  "formFieldName": "phoneNumber",
                  "uuid": "14d4f066-15f5-102d-96e4-000c29c2a5d7",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text",
                    "config": {
                      "regex": "^[0-9]{10}$|^$"
                    }
                  },
                  "cssClasses": [
                    "number",
                    "regex"
                  ]
                }
              ]
            }
          ]
        },
        {
          "id": "otherDemographic",
          "label": "namibia.person.otherdemographic.label",
          "questions": [
            {
              "legend": "namibia.registrationapp.person.mothermaidenname.label",
              "id": "mothermaidenname.label",
              "fields": [
                {
                  "type": "personAttribute",
                  "label": "namibia.registrationapp.person.mothermaidenname.question",
                  "formFieldName": "mothermaidenname",
                  "uuid": "8d871f2a-c2cc-11de-8d13-0010c6dffd0f",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text"
                  }
                }
              ]
            },
            {
              "legend": "namibia.registrationapp.person.placeofbirth.label",
              "id": "placeofbirth.label",
              "fields": [
                {
                  "type": "personAttribute",
                  "label": "namibia.registrationapp.person.placeofbirth.question",
                  "formFieldName": "placeofbirth",
                  "uuid": "b01e7d1c-bb4e-4347-9142-5401a8658d96",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text"
                  }
                }
              ]
            },
            {
              "legend": "namibia.registrationapp.person.nextofkinname.label",
              "id": "nextofkinname.label",
              "fields": [
                {
                  "type": "personAttribute",
                  "label": "namibia.registrationapp.person.nextofkinname.question",
                  "formFieldName": "nextofkinname",
                  "uuid": "dc0cf7a8-dede-4c3d-9db4-730900aedd1a",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text"
                  }
                }
              ]
            },
            {
              "legend": "namibia.registrationapp.person.nextofkincontact.label",
              "id": "nextofkincontact.label",
              "fields": [
                {
                  "type": "personAttribute",
                  "label": "namibia.registrationapp.person.nextofkincontact.question",
                  "formFieldName": "nextofkincontact",
                  "uuid": "d135bf7c-6ddd-4636-be22-fbd334a8f134",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text",
                    "config": {
                      "regex": "^[0-9]{10}$|^$"
                    }
                  }
                }
              ]
            }
          ]
        }
      ]
    }
  }
]